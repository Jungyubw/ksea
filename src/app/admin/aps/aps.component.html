<div *ngIf="blockedDocument" class="card">
    <p-progressBar mode="indeterminate" [style]="{'height': '6px'}"></p-progressBar>
</div>

<div *ngIf="!blockedDocument" class="wrap-con">
    <div class="wrap-title">
        <h2>APS Member Chart</h2>
    </div>
    <p-chart type="bar" [data]="basicData" [options]="stackedOptions"></p-chart>
    <div class="wrap-sub-title">
        <h3>APS Info Tables</h3>
        <button class="btn_gray" (click)="showAdd()">ADD</button>
    </div>
    <p-table [value]="apsdefs" [(selection)]="selectedItems" dataKey="apsID" responsiveLayout="scroll">
        <ng-template pTemplate="header">
            <tr>
                <th style="width: 3rem">
                    <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
                </th>
                <th>
                    <div class="flex justify-content-center align-items-center">
                        ID
                        <p-columnFilter type="text" field="apsID" display="apsID"></p-columnFilter>
                    </div>
                </th>
                <th>
                    <div class="flex justify-content-center align-items-center">
                        Name
                        <p-columnFilter type="text" field="apsName" display="apsName"></p-columnFilter>
                    </div>
                </th>
                <th>
                    <div class="flex justify-content-center align-items-center">
                        Full Name
                        <p-columnFilter type="text" field="apsFullName" display="apsFullName"></p-columnFilter>
                    </div>
                </th>
                <th>
                    <div class="flex justify-content-center align-items-center">
                        URL
                        <p-columnFilter type="text" field="apsURL" display="apsURL"></p-columnFilter>
                    </div>
                </th>
                <th>
                    <div class="flex justify-content-center align-items-center">
                        president
                        <p-columnFilter type="text" field="presidentID" display="presidentID"></p-columnFilter>
                    </div>
                </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-item>
            <tr>
                <td>
                    <p-tableCheckbox [value]="item"></p-tableCheckbox>
                </td>
                <td>{{item.apsID}}</td>
                <td pEditableColumn>
                    <p-cellEditor>
                        <ng-template pTemplate="input">
                            <input pInputText type="text" [(ngModel)]="item.apsName">
                        </ng-template>
                        <ng-template pTemplate="output">
                            {{item.apsName}}
                        </ng-template>
                    </p-cellEditor>
                </td>
                <td pEditableColumn>
                    <p-cellEditor>
                        <ng-template pTemplate="input">
                            <input pInputText type="text" [(ngModel)]="item.apsFullName">
                        </ng-template>
                        <ng-template pTemplate="output">
                            {{item.apsFullName}}
                        </ng-template>
                    </p-cellEditor>
                </td>
                <td pEditableColumn>
                    <p-cellEditor>
                        <ng-template pTemplate="input">
                            <input pInputText type="text" [(ngModel)]="item.apsURL">
                        </ng-template>
                        <ng-template pTemplate="output">
                            {{item.apsURL}}
                        </ng-template>
                    </p-cellEditor>
                </td>
                <td pEditableColumn>
                    <p-cellEditor>
                        <ng-template pTemplate="input">
                            <input pInputText type="text" [(ngModel)]="item.presidentID">
                        </ng-template>
                        <ng-template pTemplate="output">
                            {{item.presidentID}}
                        </ng-template>
                    </p-cellEditor>
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>
<!-- [Dev] 데이터 추가 Diglog -->
<p-dialog header="Add APS" [(visible)]="displayAddAPS"  [modal]="true">
    <div class="wrap-dlg">
        <ul class="input-data">
            <li>
                <label for="apsID">ID</label>
                <input type="text" name="" id="apsID" [(ngModel)]="newItem.apsID" placeholder="ID">
            </li>
            <li>
                <label for="apsName">Name</label>
                <input type="text" name="" id="apsName" [(ngModel)]="newItem.apsName" placeholder="Name">
            </li>
            <li>
                <label for="apsFullName">Full Name</label>
                <input type="text" name="" id="apsFullName" [(ngModel)]="newItem.apsFullName" placeholder="Full Name">
            </li>
            <li>
                <label for="apsURL">Url</label>
                <input type="text" name="" id="apsURL" [(ngModel)]="newItem.apsURL" placeholder="Url">
            </li>
            <li>
                <label for="presidentId">President</label>
                <input type="text" name="" id="presidentID" [(ngModel)]="newItem.presidentID" placeholder="President">
            </li>
        </ul>
        <div class="dlg-btn-g">
            <button class="btn_dlg_gray" (click)="closeDlg()">Cancel</button>
            <button class="btn_dlg_blue" (click)="closeAndSaveDlg()">Save</button>
        </div>
    </div>
</p-dialog>
<!-- [Dev] 데이터 수정 Diglog : 수정해야 하는 값이 인풋에 들어 있어야 함-->
<p-dialog header="Edit APS" [(visible)]="displayEditAPS"  [modal]="true">
    <div class="wrap-dlg">
        <ul class="input-data">
            <li>
                <label for="apsID">ID</label>
                <Span>01</Span>
            </li>
            <li>
                <label for="apsName">Name</label>
                <input type="text" name="" id="apsName" placeholder="Name">
            </li>
            <li>
                <label for="apsFullName">Full Name</label>
                <input type="text" name="" id="apsFullName" placeholder="Full Name">
            </li>
            <li>
                <label for="apsURL">Url</label>
                <input type="text" name="" id="apsURL" placeholder="Url">
            </li>
            <li>
                <label for="presidentId">President</label>
                <input type="text" name="" id="presidentId" placeholder="President">
            </li>
        </ul>
        <div class="dlg-btn-g">
            <button class="btn_dlg_gray" (click)="closeDlg()">Cancel</button>
            <button class="btn_dlg_blue">Save</button>
        </div>
    </div>
</p-dialog>
